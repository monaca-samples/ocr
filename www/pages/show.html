<template>
  <div class="page">
    <div class="navbar">
      <div class="navbar-bg"></div>
      <div class="navbar-inner sliding">
        <div class="left">
          <a href="#" @click=${() => $f7router.back()} class="link">
            <i class="f7-icons">chevron_left</i> 戻る
          </a>
        </div>
        <div class="title">メモ</div>
      </div>
    </div>
    <div class="page-content">
      <div class="block">
        <div class="row">
          <div class="col-100">
            <div class="list">
              <ul>
                <li class="item-content item-input">
                  <div class="item-inner">
                    <div class="item-title item-label">元画像</div>
                    <div class="item-input-wrap">
                      <img src="${img}" class="preview" />
                    </div>
                  </div>
                </li>
                <li class="item-content item-input">
                  <div class="item-inner">
                    <div class="item-title item-label">解析結果</div>
                    <div class="item-input-wrap" innerHTML=${ocr.text.replace(/\r\n|\r|\n/g, '<br />')}>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>      
    </div>
  </div>
</template>
<style>
  .preview {
    width: 100%;
    height: 200px;
    object-fit: cover;
  }
</style>
<script>
  export default async (props, {$f7, $f7router, $on }) => {
    // 前画面から送られてきたOCR情報を取得
    const { ocr, img } = props;
    return $render;
  }
</script>